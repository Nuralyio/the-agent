AI-POWERED STEP REFINEMENT

Step to refine:
- Type: {stepType}
- Description: {stepDescription}
- Current selector: {currentSelector}

Current page: {pageUrl}

Available form elements: {formElements}
Available interactive elements: {interactiveElements}


Using AI analysis of the page content above, provide the BEST CSS selector for this step.

REFINEMENT STRATEGY:
1. Analyze the actual page HTML content to find the right element
2. Look for elements that match the step description: "{stepDescription}"
3. Use actual class names, IDs, and attributes from the page content
4. Prefer specific, unique selectors over generic ones
5. Ensure the selector targets exactly what the step needs to accomplish
6. CSS selectors are provided as "selector1 OR selector2 OR selector3" - choose the most reliable option
7. Prefer ID or name selectors over positional selectors when available
8. Use nth-of-type or nth-child selectors only when other options fail

Required format:
{
  "steps": [
    {
      "type": "{stepType}",
      "description": "{stepDescription}",
      "target": {
        "selector": "optimized-css-selector-here",
        "description": "element description"
      }
    }
  ],
  "reasoning": "Explanation of why this selector is optimal"
}
